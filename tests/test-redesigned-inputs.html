<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¹é€ åçš„è¾“å…¥æ¡†æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
        }
        .test-container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .form-item {
            margin-bottom: 30px;
        }
        .input-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .input-label {
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
        }
        .input-field-wrapper {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .input-field {
            position: relative;
            display: flex;
            align-items: center;
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .input-field.focused {
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }
        .input-field.error {
            border-color: #e53e3e;
            box-shadow: 0 0 0 4px rgba(229, 62, 62, 0.1);
        }
        .input-text {
            flex: 1;
            padding: 16px 20px;
            border: none;
            outline: none;
            font-size: 16px;
            color: #2d3748;
            background: transparent;
            line-height: 1.5;
        }
        .input-text::placeholder {
            color: #a0aec0;
            font-size: 15px;
        }
        .visibility-toggle {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
            z-index: 2;
        }
        .visibility-toggle:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        .visibility-toggle:active {
            transform: translateY(-50%) scale(0.95);
        }
        .toggle-icon {
            font-size: 18px;
            color: #718096;
            transition: color 0.2s ease;
        }
        .visibility-toggle:hover .toggle-icon {
            color: #667eea;
        }
        .input-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            min-height: 24px;
        }
        .error-message {
            color: #e53e3e;
            font-size: 14px;
            font-weight: 500;
            flex: 1;
            display: flex;
            align-items: center;
        }
        .success-message {
            color: #38a169;
            font-size: 14px;
            font-weight: 500;
            flex: 1;
            display: flex;
            align-items: center;
        }
        .char-counter {
            color: #718096;
            font-size: 12px;
            font-weight: 500;
            text-align: right;
            min-width: 60px;
            background: #f7fafc;
            padding: 2px 8px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        .password-strength {
            margin-top: 12px;
            padding: 12px;
            background: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .strength-label {
            font-size: 14px;
            font-weight: 600;
            color: #4a5568;
        }
        .strength-bar {
            display: flex;
            gap: 4px;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            overflow: hidden;
        }
        .strength-segment {
            flex: 1;
            height: 100%;
            border-radius: 3px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: left;
        }
        .strength-segment.empty {
            background: #e2e8f0;
        }
        .strength-segment.weak {
            background: linear-gradient(90deg, #fc8181, #f56565);
        }
        .strength-segment.fair {
            background: linear-gradient(90deg, #f6ad55, #ed8936);
        }
        .strength-segment.good {
            background: linear-gradient(90deg, #63b3ed, #4299e1);
        }
        .strength-segment.strong {
            background: linear-gradient(90deg, #68d391, #48bb78);
        }
        .strength-text {
            font-size: 12px;
            font-weight: 600;
            text-align: center;
            padding: 2px 8px;
            border-radius: 6px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            min-width: 60px;
        }
        .test-result {
            margin-top: 30px;
            padding: 20px;
            background: #f0f8ff;
            border-radius: 12px;
            border: 2px solid #bee3f8;
        }
        .test-result h3 {
            margin: 0 0 15px 0;
            color: #3182ce;
            font-size: 18px;
        }
        .test-result p {
            margin: 8px 0;
            color: #4a5568;
        }
        .highlight {
            background: #667eea;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h2 style="text-align: center; color: #2d3748; margin-bottom: 30px;">ğŸ” æ”¹é€ åçš„å¯†ç è¾“å…¥æ¡†</h2>
        <p style="text-align: center; color: #718096; margin-bottom: 30px;">ç°ä»£åŒ–è®¾è®¡ï¼Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</p>
        
        <div class="form-item">
            <div class="input-container">
                <label class="input-label">å½“å‰å¯†ç </label>
                <div class="input-field-wrapper">
                    <div class="input-field" :class="{ 'focused': focusedField === 'current', 'error': false }">
                        <input 
                            class="input-text"
                            :value="currentPassword"
                            @input="handleCurrentPasswordInput"
                            @focus="onPasswordFocus('current')"
                            @blur="onPasswordBlur('current')"
                            placeholder="è¯·è¾“å…¥å½“å‰å¯†ç "
                            type="password"
                            maxlength="20"
                        />
                        <button class="visibility-toggle" @click="togglePasswordVisibility('current')">
                            <span class="toggle-icon">ğŸ™ˆ</span>
                        </button>
                    </div>
                    <div class="input-footer">
                        <span class="char-counter">{{ currentPassword.length }}/20</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="form-item">
            <div class="input-container">
                <label class="input-label">æ–°å¯†ç </label>
                <div class="input-field-wrapper">
                    <div class="input-field" :class="{ 'focused': focusedField === 'new', 'error': false }">
                        <input 
                            class="input-text"
                            :value="newPassword"
                            @input="handleNewPasswordInput"
                            @focus="onPasswordFocus('new')"
                            @blur="onPasswordBlur('new')"
                            placeholder="è¯·è¾“å…¥æ–°å¯†ç "
                            type="password"
                            maxlength="20"
                        />
                        <button class="visibility-toggle" @click="togglePasswordVisibility('new')">
                            <span class="toggle-icon">ğŸ™ˆ</span>
                        </button>
                    </div>
                    <div class="input-footer">
                        <span class="char-counter">{{ newPassword.length }}/20</span>
                    </div>
                    <div v-if="newPassword" class="password-strength">
                        <span class="strength-label">å¯†ç å¼ºåº¦ï¼š</span>
                        <div class="strength-bar">
                            <div class="strength-segment" :class="getPasswordStrengthClass(0)"></div>
                            <div class="strength-segment" :class="getPasswordStrengthClass(1)"></div>
                            <div class="strength-segment" :class="getPasswordStrengthClass(2)"></div>
                            <div class="strength-segment" :class="getPasswordStrengthClass(3)"></div>
                        </div>
                        <span class="strength-text">{{ getPasswordStrengthText() }}</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="form-item">
            <div class="input-container">
                <label class="input-label">ç¡®è®¤å¯†ç </label>
                <div class="input-field-wrapper">
                    <div class="input-field" :class="{ 'focused': focusedField === 'confirm', 'error': false }">
                        <input 
                            class="input-text"
                            :value="confirmPassword"
                            @input="handleConfirmPasswordInput"
                            @focus="onPasswordFocus('confirm')"
                            @blur="onPasswordBlur('confirm')"
                            placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç "
                            type="password"
                            maxlength="20"
                        />
                        <button class="visibility-toggle" @click="togglePasswordVisibility('confirm')">
                            <span class="toggle-icon">ğŸ™ˆ</span>
                        </button>
                    </div>
                    <div class="input-footer">
                        <span v-if="confirmPassword && newPassword === confirmPassword" class="success-message">âœ“ å¯†ç åŒ¹é…</span>
                        <span class="char-counter">{{ confirmPassword.length }}/20</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="test-result" v-if="currentPassword || newPassword || confirmPassword">
            <h3>ğŸ¯ æµ‹è¯•ç»“æœ</h3>
            <p><strong>å½“å‰å¯†ç :</strong> <span class="highlight">{{ currentPassword || 'æœªè¾“å…¥' }}</span></p>
            <p><strong>æ–°å¯†ç :</strong> <span class="highlight">{{ newPassword || 'æœªè¾“å…¥' }}</span></p>
            <p><strong>ç¡®è®¤å¯†ç :</strong> <span class="highlight">{{ confirmPassword || 'æœªè¾“å…¥' }}</span></p>
            <p><strong>å¯†ç åŒ¹é…:</strong> <span class="highlight">{{ newPassword === confirmPassword ? 'âœ“ åŒ¹é…' : 'âœ— ä¸åŒ¹é…' }}</span></p>
            <p><strong>å¯†ç å¼ºåº¦:</strong> <span class="highlight">{{ getPasswordStrengthText() }}</span></p>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const { createApp } = Vue;
        
        createApp({
            data() {
                return {
                    focusedField: null,
                    currentPassword: '',
                    newPassword: '',
                    confirmPassword: '',
                    passwordVisibility: {
                        current: false,
                        new: false,
                        confirm: false
                    },
                    passwordStrength: 0
                }
            },
            methods: {
                handleCurrentPasswordInput(e) {
                    this.currentPassword = e.target.value;
                    console.log('å½“å‰å¯†ç è¾“å…¥:', e.target.value);
                },
                
                handleNewPasswordInput(e) {
                    this.newPassword = e.target.value;
                    this.passwordStrength = this.calculatePasswordStrength(this.newPassword);
                    console.log('æ–°å¯†ç è¾“å…¥:', e.target.value);
                },
                
                handleConfirmPasswordInput(e) {
                    this.confirmPassword = e.target.value;
                    console.log('ç¡®è®¤å¯†ç è¾“å…¥:', e.target.value);
                },
                
                onPasswordFocus(type) {
                    this.focusedField = type;
                },
                
                onPasswordBlur(type) {
                    this.focusedField = null;
                },
                
                togglePasswordVisibility(type) {
                    this.passwordVisibility[type] = !this.passwordVisibility[type];
                },
                
                calculatePasswordStrength(password) {
                    if (!password) return 0;
                    
                    let strength = 0;
                    
                    // é•¿åº¦æ£€æŸ¥
                    if (password.length >= 6) strength++;
                    if (password.length >= 10) strength++;
                    
                    // å­—ç¬¦ç±»å‹æ£€æŸ¥
                    if (/[a-z]/.test(password)) strength++;
                    if (/[A-Z]/.test(password)) strength++;
                    if (/[0-9]/.test(password)) strength++;
                    if (/[^a-zA-Z0-9]/.test(password)) strength++;
                    
                    // è¿”å›0-4çš„å¼ºåº¦å€¼
                    return Math.min(strength, 4);
                },
                
                getPasswordStrengthClass(index) {
                    const strength = this.passwordStrength;
                    if (index < strength) {
                        if (strength <= 1) return 'weak';
                        if (strength <= 2) return 'fair';
                        if (strength <= 3) return 'good';
                        return 'strong';
                    }
                    return 'empty';
                },
                
                getPasswordStrengthText() {
                    const strength = this.passwordStrength;
                    if (strength === 0) return 'è¯·è¾“å…¥å¯†ç ';
                    if (strength === 1) return 'å¼±';
                    if (strength === 2) return 'ä¸€èˆ¬';
                    if (strength === 3) return 'è‰¯å¥½';
                    return 'å¼º';
                }
            }
        }).mount('body');
    </script>
</body>
</html>
