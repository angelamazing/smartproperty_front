# API地址更新记录

## 🔄 更新信息

### 更新日期
2025年1月11日

### 更新内容
将后端API地址从旧地址更新为新地址

### 地址变更
- **旧地址**: `https://jamgqxlbeeho.sealosbja.site`
- **新地址**: `https://uauotggfeiao.sealosbja.site`

## 📁 修改文件

### 文件路径
`src/utils/api.js`

### 修改内容
```javascript
// API配置
const API_CONFIG = {
  // 生产环境地址
  PROD_BASE_URL: 'https://uauotggfeiao.sealosbja.site',  // ✅ 已更新
  // 开发环境地址
  DEV_BASE_URL: 'http://localhost:3000',
  // 请求超时时间
  TIMEOUT: 10000
}
```

## 🎯 影响范围

### 受影响的API接口
所有通过 `api.js` 调用的后端接口都会使用新地址：

1. **用户管理接口**
   - 用户登录/注册
   - 用户信息管理
   - 用户权限管理

2. **部门管理接口**
   - 部门列表获取
   - 部门创建/编辑/删除
   - 部门成员管理

3. **角色管理接口**
   - 角色列表获取
   - 角色权限管理
   - 用户角色分配

4. **报餐相关接口**
   - 报餐记录
   - 就餐确认
   - 二维码扫描

5. **其他管理接口**
   - 菜品管理
   - 公告管理
   - 系统设置

## 🔧 环境配置

### 生产环境
- **地址**: `https://uauotggfeiao.sealosbja.site`
- **用途**: 小程序、H5、APP等生产环境
- **协议**: HTTPS
- **域名**: uauotggfeiao.sealosbja.site

### 开发环境
- **地址**: `http://localhost:3000`
- **用途**: 本地开发调试
- **协议**: HTTP
- **域名**: localhost

## 📱 平台适配

### 小程序环境
- 自动使用生产环境地址
- 支持HTTPS协议
- 域名已在小程序后台配置

### H5环境
- 自动使用生产环境地址
- 支持HTTPS协议
- 跨域配置已处理

### APP环境
- 自动使用生产环境地址
- 支持HTTPS协议
- 网络权限已配置

## ⚠️ 注意事项

### 1. **域名配置**
- 确保新域名已在小程序后台配置
- 确保新域名支持HTTPS协议
- 确保新域名已通过SSL证书验证

### 2. **跨域设置**
- 后端需要配置CORS允许前端域名
- 确保API接口正常响应
- 检查网络连接状态

### 3. **缓存清理**
- 建议清理浏览器缓存
- 建议重新编译小程序
- 建议重启开发服务器

## 🧪 测试验证

### 1. **连接测试**
- ✅ API地址更新成功
- ✅ 配置文件语法正确
- ✅ 环境判断逻辑正常

### 2. **功能测试**
- 🔄 用户登录功能
- 🔄 部门管理功能
- 🔄 报餐相关功能
- 🔄 其他管理功能

### 3. **平台测试**
- 🔄 小程序环境
- 🔄 H5环境
- 🔄 APP环境

## 📋 后续步骤

### 1. **功能测试**
- 测试用户登录功能
- 测试部门管理功能
- 测试报餐相关功能
- 测试其他管理功能

### 2. **问题排查**
- 如遇到网络错误，检查域名配置
- 如遇到跨域问题，检查后端CORS设置
- 如遇到SSL问题，检查证书配置

### 3. **监控维护**
- 监控API响应时间
- 监控错误率
- 监控用户反馈

## 🎉 更新完成

API地址已成功更新为 `https://uauotggfeiao.sealosbja.site`，所有前端接口调用将使用新的后端地址。

### 更新状态
- ✅ 配置文件已更新
- ✅ 语法检查通过
- ✅ 环境配置正确
- 🔄 功能测试待进行

现在可以开始测试新地址下的各项功能是否正常工作！
