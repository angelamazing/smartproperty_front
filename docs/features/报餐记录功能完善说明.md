# æŠ¥é¤è®°å½•åŠŸèƒ½å®Œå–„è¯´æ˜

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œå¯¹æ—¥å¸¸æŠ¥é¤ä¸­çš„æŠ¥é¤è®°å½•ç•Œé¢å’Œä»£ç è¿›è¡Œäº†å…¨é¢çš„ä¿®æ”¹å’Œå®Œå–„ï¼Œæ–°å¢äº†æ—¶é—´æ®µæŸ¥è¯¢åŠŸèƒ½å’Œä¸ªäººæŠ¥é¤çŠ¶æ€æŸ¥è¯¢åŠŸèƒ½ã€‚

## ğŸ†• æ–°å¢åŠŸèƒ½

### 1. æ—¶é—´æ®µæŸ¥è¯¢åŠŸèƒ½

#### åŠŸèƒ½ç‰¹ç‚¹
- **å•æ—¥æŸ¥è¯¢**ï¼šä¿æŒåŸæœ‰åŠŸèƒ½ï¼Œæ”¯æŒé€‰æ‹©ç‰¹å®šæ—¥æœŸæŸ¥è¯¢
- **æ—¶é—´æ®µæŸ¥è¯¢**ï¼šæ”¯æŒé€‰æ‹©å¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸè¿›è¡ŒèŒƒå›´æŸ¥è¯¢
- **çµæ´»åˆ‡æ¢**ï¼šç”¨æˆ·å¯ä»¥åœ¨å•æ—¥æŸ¥è¯¢å’Œæ—¶é—´æ®µæŸ¥è¯¢ä¹‹é—´è‡ªç”±åˆ‡æ¢

#### å®ç°ç»†èŠ‚
- æ·»åŠ äº†æŸ¥è¯¢æ¨¡å¼é€‰æ‹©å™¨ï¼ˆå•æ—¥æŸ¥è¯¢/æ—¶é—´æ®µæŸ¥è¯¢ï¼‰
- æ”¯æŒ `startDate` å’Œ `endDate` å‚æ•°
- è‡ªåŠ¨æ¸…ç©ºä¸ç›¸å…³çš„æ—¥æœŸé€‰æ‹©
- å®æ—¶æŸ¥è¯¢ç»“æœæ›´æ–°

### 2. ä¸ªäººæŠ¥é¤çŠ¶æ€æŸ¥è¯¢åŠŸèƒ½

#### åŠŸèƒ½ç‰¹ç‚¹
- **å¤šé¤æ¬¡çŠ¶æ€**ï¼šæ˜¾ç¤ºæ—©ä¸­æ™šä¸‰ä¸ªé¤æ¬¡çš„æŠ¥é¤çŠ¶æ€
- **è¯¦ç»†ä¿¡æ¯**ï¼šåŒ…å«èœå•åç§°ã€é‡‘é¢ã€æŠ¥é¤æ—¶é—´ç­‰è¯¦ç»†ä¿¡æ¯
- **æ±‡æ€»ç»Ÿè®¡**ï¼šæ˜¾ç¤ºå·²æŠ¥é¤æ•°é‡ã€æ€»é‡‘é¢ã€å„çŠ¶æ€ç»Ÿè®¡
- **ä¾¿æ·é€‰æ‹©**ï¼šæ”¯æŒä»Šå¤©ã€æ˜¨å¤©ã€è‡ªå®šä¹‰æ—¥æœŸé€‰æ‹©

#### å®ç°ç»†èŠ‚
- è°ƒç”¨ `/api/dining/personal-status` æ¥å£
- æ”¯æŒæ—¥æœŸé€‰æ‹©å™¨ï¼ˆä»Šå¤©/æ˜¨å¤©/è‡ªå®šä¹‰ï¼‰
- æ ¼å¼åŒ–æ˜¾ç¤ºä¸ªäººæŠ¥é¤çŠ¶æ€ä¿¡æ¯
- é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

### 3. ç•Œé¢ä¼˜åŒ–

#### ç”¨æˆ·ä½“éªŒæ”¹è¿›
- **æŸ¥è¯¢æ¨¡å¼åˆ‡æ¢**ï¼šç›´è§‚çš„æ ‡ç­¾é¡µåˆ‡æ¢ç•Œé¢
- **ç­›é€‰å™¨é‡ç½®**ï¼šä¸€é”®é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶
- **æŸ¥è¯¢ç»“æœç»Ÿè®¡**ï¼šæ˜¾ç¤ºæŸ¥è¯¢åˆ°çš„è®°å½•æ•°é‡å’Œæ—¶é—´èŒƒå›´
- **ç©ºçŠ¶æ€ä¼˜åŒ–**ï¼šæ— è®°å½•æ—¶æä¾›æ“ä½œå¼•å¯¼
- **åŠ è½½çŠ¶æ€**ï¼šå®Œå–„çš„åŠ è½½æç¤ºå’Œé”™è¯¯å¤„ç†

#### ç•Œé¢å¸ƒå±€
- å“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒå±å¹•å°ºå¯¸
- ç»Ÿä¸€çš„è§†è§‰é£æ ¼å’Œäº¤äº’ä½“éªŒ
- æ¸…æ™°çš„ä¿¡æ¯å±‚æ¬¡å’Œæ“ä½œæµç¨‹

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. APIæ¥å£æ›´æ–°

åœ¨ `src/utils/api.js` ä¸­æ–°å¢ï¼š
```javascript
// è·å–ä¸ªäººæŠ¥é¤çŠ¶æ€
getPersonalStatus: (date) => api.get('/api/dining/personal-status', { date })
```

### 2. æ•°æ®ç»“æ„æ‰©å±•

```javascript
recordFilter: {
  date: '',           // å•æ—¥æŸ¥è¯¢æ—¥æœŸ
  startDate: '',      // æ—¶é—´æ®µæŸ¥è¯¢å¼€å§‹æ—¥æœŸ
  endDate: '',        // æ—¶é—´æ®µæŸ¥è¯¢ç»“æŸæ—¥æœŸ
  status: 'å…¨éƒ¨',      // çŠ¶æ€ç­›é€‰
  queryMode: 'single' // æŸ¥è¯¢æ¨¡å¼ï¼š'single' | 'range'
}
```

### 3. æ ¸å¿ƒæ–¹æ³•

#### æ—¶é—´æ®µæŸ¥è¯¢
```javascript
async loadDiningRecords() {
  const params = { page: this.page, pageSize: this.pageSize }
  
  // æ ¹æ®æŸ¥è¯¢æ¨¡å¼è®¾ç½®å‚æ•°
  if (this.recordFilter.queryMode === 'single') {
    params.date = this.recordFilter.date
  } else if (this.recordFilter.queryMode === 'range') {
    if (this.recordFilter.startDate) params.startDate = this.recordFilter.startDate
    if (this.recordFilter.endDate) params.endDate = this.recordFilter.endDate
  }
  
  // çŠ¶æ€ç­›é€‰
  if (this.recordFilter.status && this.recordFilter.status !== 'å…¨éƒ¨') {
    params.status = this.recordFilter.status
  }
  
  const result = await api.dining.getRecords(params)
  // å¤„ç†ç»“æœ...
}
```

#### ä¸ªäººçŠ¶æ€æŸ¥è¯¢
```javascript
async showPersonalStatus(date) {
  const result = await api.dining.getPersonalStatus(date)
  if (result && result.success && result.data) {
    this.displayPersonalStatus(result.data, date)
  }
}
```

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| æ—¥æœŸæŸ¥è¯¢ | ä»…æ”¯æŒå•æ—¥æŸ¥è¯¢ | æ”¯æŒå•æ—¥æŸ¥è¯¢ + æ—¶é—´æ®µæŸ¥è¯¢ |
| ä¸ªäººçŠ¶æ€ | æ—  | æ–°å¢ä¸ªäººæŠ¥é¤çŠ¶æ€æŸ¥è¯¢ |
| ç•Œé¢ä½“éªŒ | åŸºç¡€ç­›é€‰å™¨ | ä¼˜åŒ–çš„æŸ¥è¯¢ç•Œé¢ + ç»Ÿè®¡ä¿¡æ¯ |
| é”™è¯¯å¤„ç† | åŸºç¡€é”™è¯¯æç¤º | å®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·å¼•å¯¼ |
| æ“ä½œä¾¿åˆ©æ€§ | éœ€è¦æ‰‹åŠ¨æ¸…ç©ºç­›é€‰ | ä¸€é”®é‡ç½®ç­›é€‰å™¨ |

## ğŸ¯ ä½¿ç”¨è¯´æ˜

### 1. æ—¶é—´æ®µæŸ¥è¯¢
1. è¿›å…¥æŠ¥é¤è®°å½•æ ‡ç­¾é¡µ
2. é€‰æ‹©"æ—¶é—´æ®µæŸ¥è¯¢"æ¨¡å¼
3. é€‰æ‹©å¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸ
4. å¯é€‰æ‹©çŠ¶æ€ç­›é€‰
5. æŸ¥çœ‹æŸ¥è¯¢ç»“æœ

### 2. ä¸ªäººæŠ¥é¤çŠ¶æ€æŸ¥è¯¢
1. åœ¨æŠ¥é¤è®°å½•é¡µé¢ç‚¹å‡»"æŸ¥çœ‹ä¸ªäººæŠ¥é¤çŠ¶æ€"æŒ‰é’®
2. é€‰æ‹©æŸ¥è¯¢æ—¥æœŸï¼ˆä»Šå¤©/æ˜¨å¤©/è‡ªå®šä¹‰ï¼‰
3. æŸ¥çœ‹ä¸ªäººæŠ¥é¤çŠ¶æ€è¯¦æƒ…

### 3. ç­›é€‰å™¨é‡ç½®
1. ç‚¹å‡»ç­›é€‰å™¨å³ä¾§çš„"é‡ç½®"æŒ‰é’®
2. æ‰€æœ‰ç­›é€‰æ¡ä»¶å°†é‡ç½®ä¸ºé»˜è®¤å€¼
3. è‡ªåŠ¨é‡æ–°æŸ¥è¯¢æ•°æ®

## ğŸ”„ å‘åå…¼å®¹æ€§

- å®Œå…¨ä¿æŒåŸæœ‰å•æ—¥æŸ¥è¯¢åŠŸèƒ½
- ä¸å½±å“ç°æœ‰çš„æŠ¥é¤è®°å½•æ•°æ®ç»“æ„
- æ–°å¢åŠŸèƒ½ä¸ºå¯é€‰åŠŸèƒ½ï¼Œä¸å½±å“åŸæœ‰æµç¨‹

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ—¥æœŸæ ¼å¼**ï¼šæ‰€æœ‰æ—¥æœŸå‚æ•°ä½¿ç”¨ `YYYY-MM-DD` æ ¼å¼
2. **æŸ¥è¯¢é™åˆ¶**ï¼šæ—¶é—´æ®µæŸ¥è¯¢èŒƒå›´ä¸èƒ½è¶…è¿‡ä¸€å¹´
3. **æƒé™æ§åˆ¶**ï¼šä¸ªäººçŠ¶æ€æŸ¥è¯¢éœ€è¦ç”¨æˆ·è®¤è¯
4. **é”™è¯¯å¤„ç†**ï¼šç½‘ç»œå¼‚å¸¸æ—¶ä¼šæ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

1. æ·»åŠ æ—¥æœŸèŒƒå›´å¿«é€Ÿé€‰æ‹©ï¼ˆæœ€è¿‘ä¸€å‘¨ã€æœ€è¿‘ä¸€æœˆç­‰ï¼‰
2. æ”¯æŒå¯¼å‡ºæŸ¥è¯¢ç»“æœ
3. æ·»åŠ æ›´å¤šç­›é€‰æ¡ä»¶ï¼ˆé¤æ¬¡ç±»å‹ã€é‡‘é¢èŒƒå›´ç­‰ï¼‰
4. ä¼˜åŒ–å¤§æ•°æ®é‡æŸ¥è¯¢çš„æ€§èƒ½

---

**æ›´æ–°å®Œæˆï¼** ğŸ‰ æŠ¥é¤è®°å½•åŠŸèƒ½å·²å…¨é¢å®Œå–„ï¼Œæ”¯æŒçµæ´»çš„æ—¶é—´æ®µæŸ¥è¯¢å’Œä¸ªäººçŠ¶æ€æŸ¥è¯¢ï¼
