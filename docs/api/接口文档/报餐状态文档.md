'''# ä¸ªäººæŠ¥é¤çŠ¶æ€æŽ¥å£æ–‡æ¡£

## ðŸ“‹ æŽ¥å£æ¦‚è¿°

**æŽ¥å£åç§°**: èŽ·å–ä¸ªäººæŠ¥é¤çŠ¶æ€  
**æŽ¥å£è·¯å¾„**: `GET /api/dining/personal-status`  
**åŠŸèƒ½æè¿°**: èŽ·å–ç”¨æˆ·æŒ‡å®šæ—¥æœŸçš„ä¸ªäººæŠ¥é¤çŠ¶æ€ä¿¡æ¯ï¼ŒåŒ…å«æ—©ä¸­æ™šä¸‰ä¸ªé¤æ¬¡çš„æŠ¥é¤æƒ…å†µï¼Œç”¨äºŽå‰ç«¯ç”Ÿæˆç”¨é¤å¡ç‰‡ã€‚

## ðŸ” æƒé™è¦æ±‚

- éœ€è¦ç”¨æˆ·è®¤è¯Token
- ç”¨æˆ·åªèƒ½æŸ¥çœ‹è‡ªå·±çš„æŠ¥é¤çŠ¶æ€

## ðŸ“¥ è¯·æ±‚å‚æ•°

### Query Parameters

| å‚æ•°å | ç±»åž‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜Ž |
|--------|------|------|--------|------|
| date | string | å¦ | ä»Šå¤© | æŸ¥è¯¢æ—¥æœŸï¼Œæ ¼å¼ï¼šYYYY-MM-DD |

### è¯·æ±‚ç¤ºä¾‹

```http
GET /api/dining/personal-status?date=2025-09-04
Authorization: Bearer {your-jwt-token}
Content-Type: application/json
```

## ðŸ“¤ å“åº”æ•°æ®

### æˆåŠŸå“åº” (200)

```json
{
  "success": true,
  "message": "èŽ·å–ä¸ªäººæŠ¥é¤çŠ¶æ€æˆåŠŸ",
  "code": "200",
  "timestamp": "2025-09-04T10:15:08.638Z",
  "data": {
    "userId": "user_123",
    "userName": "å¼ ä¸‰",
    "department": "æŠ€æœ¯éƒ¨",
    "queryDate": "2025-09-04",
    "mealStatus": {
      "breakfast": {
        "isRegistered": true,
        "status": "confirmed",
        "statusText": "å·²ç¡®è®¤",
        "orderId": "order_123",
        "menuId": "menu_123",
        "menuName": "ä»Šæ—¥æ—©é¤",
        "dishes": [
          {
            "dishId": "dish_1",
            "dishName": "å°ç¬¼åŒ…",
            "dishImage": "",
            "originalPrice": 10.00,
            "menuPrice": 8.00,
            "sort": 1
          },
          {
            "dishId": "dish_2",
            "dishName": "è±†æµ†",
            "dishImage": "",
            "originalPrice": 5.00,
            "menuPrice": 4.00,
            "sort": 2
          }
        ],
        "totalAmount": 12.00,
        "registerTime": "2025-09-04T08:30:00.000Z",
        "registrantName": "éƒ¨é—¨ç®¡ç†å‘˜",
        "remark": "å¤‡æ³¨ä¿¡æ¯"
      },
      "lunch": {
        "isRegistered": true,
        "status": "pending",
        "statusText": "å¾…ç¡®è®¤",
        "orderId": "order_124",
        "menuId": "menu_124",
        "menuName": "ä»Šæ—¥åˆé¤",
        "dishes": [
          {
            "dishId": "dish_3",
            "dishName": "å®«ä¿é¸¡ä¸",
            "dishImage": "",
            "originalPrice": 18.00,
            "menuPrice": 15.00,
            "sort": 1
          }
        ],
        "totalAmount": 15.00,
        "registerTime": "2025-09-04T10:15:00.000Z",
        "registrantName": "éƒ¨é—¨ç®¡ç†å‘˜",
        "remark": ""
      },
      "dinner": {
        "isRegistered": false,
        "status": null,
        "statusText": "æœªæŠ¥é¤",
        "orderId": null,
        "menuId": null,
        "menuName": null,
        "dishes": [],
        "totalAmount": 0.00,
        "registerTime": null,
        "registrantName": null,
        "remark": null
      }
    },
    "summary": {
      "totalRegistered": 2,
      "totalAmount": 27.00,
      "confirmedCount": 1,
      "pendingCount": 1,
      "unregisteredCount": 1
    },
    "availableMenus": {
      "breakfast": {
        "menuId": "menu_123",
        "menuName": "ä»Šæ—¥æ—©é¤",
        "publishStatus": "published",
        "dishes": [
          {
            "dishId": "dish_1",
            "dishName": "å°ç¬¼åŒ…",
            "dishImage": "",
            "originalPrice": 10.00,
            "menuPrice": 8.00,
            "sort": 1
          }
        ]
      },
      "lunch": {
        "menuId": "menu_124",
        "menuName": "ä»Šæ—¥åˆé¤",
        "publishStatus": "published",
        "dishes": [
          {
            "dishId": "dish_3",
            "dishName": "å®«ä¿é¸¡ä¸",
            "dishImage": "",
            "originalPrice": 18.00,
            "menuPrice": 15.00,
            "sort": 1
          }
        ]
      },
      "dinner": {
        "menuId": null,
        "menuName": null,
        "publishStatus": null,
        "dishes": []
      }
    }
  }
}
```

### é”™è¯¯å“åº”

#### 400 - å‚æ•°é”™è¯¯
```json
{
  "success": false,
  "message": "æ—¥æœŸæ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·ä½¿ç”¨YYYY-MM-DDæ ¼å¼",
  "code": "400",
  "timestamp": "2025-09-04T10:15:08.638Z"
}
```

#### 401 - æœªæŽˆæƒ
```json
{
  "success": false,
  "message": "æœªæŽˆæƒè®¿é—®",
  "code": "401",
  "timestamp": "2025-09-04T10:15:08.638Z"
}
```

#### 404 - ç”¨æˆ·ä¸å­˜åœ¨
```json
{
  "success": false,
  "message": "ç”¨æˆ·ä¸å­˜åœ¨",
  "code": "404",
  "timestamp": "2025-09-04T10:15:08.638Z"
}
```

#### 500 - æœåŠ¡å™¨é”™è¯¯
```json
{
  "success": false,
  "message": "èŽ·å–ä¸ªäººæŠ¥é¤çŠ¶æ€å¤±è´¥",
  "code": "500",
  "timestamp": "2025-09-04T10:15:08.638Z"
}
```

## ðŸ“Š æ•°æ®ç»“æž„è¯´æ˜Ž

### mealStatus å¯¹è±¡

æ¯ä¸ªé¤æ¬¡ï¼ˆbreakfast/lunch/dinnerï¼‰åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»åž‹ | è¯´æ˜Ž |
|--------|------|------|
| isRegistered | boolean | æ˜¯å¦å·²æŠ¥é¤ |
| status | string\|null | æŠ¥é¤çŠ¶æ€ï¼špending/confirmed/completed/cancelled |
| statusText | string | çŠ¶æ€æ–‡æœ¬ï¼šå¾…ç¡®è®¤/å·²ç¡®è®¤/å·²å®Œæˆ/å·²å–æ¶ˆ/æœªæŠ¥é¤ |
| orderId | string\|null | è®¢å•ID |
| menuId | string\|null | èœå•ID |
| menuName | string\|null | èœå•åç§° |
| dishes | array | èœå“åˆ—è¡¨ |
| totalAmount | number | æ€»é‡‘é¢ |
| registerTime | string\|null | æŠ¥é¤æ—¶é—´ |
| registrantName | string\|null | æŠ¥é¤äººå§“å |
| remark | string\|null | å¤‡æ³¨ä¿¡æ¯ |

### dishes æ•°ç»„

æ¯ä¸ªèœå“åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»åž‹ | è¯´æ˜Ž |
|--------|------|------|
| dishId | string | èœå“ID |
| dishName | string | èœå“åç§° |
| dishImage | string | èœå“å›¾ç‰‡URL |
| originalPrice | number | åŽŸå§‹ä»·æ ¼ |
| menuPrice | number | èœå•ä»·æ ¼ |
| sort | number | æŽ’åº |

### summary å¯¹è±¡

æ±‡æ€»ç»Ÿè®¡ä¿¡æ¯ï¼š

| å­—æ®µå | ç±»åž‹ | è¯´æ˜Ž |
|--------|------|------|
| totalRegistered | number | å·²æŠ¥é¤é¤æ¬¡æ•°é‡ |
| totalAmount | number | æ€»é‡‘é¢ |
| confirmedCount | number | å·²ç¡®è®¤æ•°é‡ |
| pendingCount | number | å¾…ç¡®è®¤æ•°é‡ |
| unregisteredCount | number | æœªæŠ¥é¤æ•°é‡ |

## ðŸŽ¨ å‰ç«¯ä½¿ç”¨ç¤ºä¾‹

### React ç»„ä»¶ç¤ºä¾‹

```jsx
import React, { useState, useEffect } from 'react';

const DiningCard = () => {
  const [diningStatus, setDiningStatus] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchPersonalDiningStatus();
  }, []);

  const fetchPersonalDiningStatus = async () => {
    try {
      const response = await fetch('/api/dining/personal-status', {
        headers: {
          'Authorization': `Bearer ${localStorage.getItem('token')}`
        }
      });
      const data = await response.json();
      setDiningStatus(data.data);
