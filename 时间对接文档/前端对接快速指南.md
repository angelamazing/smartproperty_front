# å‰ç«¯å¯¹æ¥å¿«é€ŸæŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install dayjs
```

### 2. å¤åˆ¶æ—¶é—´å¤„ç†å·¥å…·ç±»
å°† `frontend-time-utils.js` å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ä¸­

### 3. åŸºæœ¬ä½¿ç”¨

```javascript
import { TimeUtils } from '@/utils/frontend-time-utils';

// æ ¼å¼åŒ–æ˜¾ç¤ºæ—¶é—´
const displayTime = TimeUtils.formatTime('2024-01-15T10:30:00.000Z', 'YYYY-MM-DD HH:mm');
// ç»“æœ: 2024-01-15 18:30

// è·å–ç›¸å¯¹æ—¶é—´
const relativeTime = TimeUtils.getRelativeTime('2024-01-15T10:30:00.000Z');
// ç»“æœ: 3å°æ—¶å‰

// æäº¤æ—¶é—´ç»™åç«¯
const utcTime = TimeUtils.toUTCForSubmit('2024-01-15 18:30:00');
// ç»“æœ: 2024-01-15T10:30:00.000Z
```

## ğŸ¨ Vueç»„ä»¶ä½¿ç”¨

### å…¨å±€è¿‡æ»¤å™¨ï¼ˆVue 2ï¼‰
```javascript
// main.js
import { TimeUtils } from '@/utils/frontend-time-utils';

Vue.filter('formatTime', (time, format) => TimeUtils.formatTime(time, format));
Vue.filter('relativeTime', (time) => TimeUtils.getRelativeTime(time));
```

### æ¨¡æ¿ä¸­ä½¿ç”¨
```vue
<template>
  <div>
    <p>åˆ›å»ºæ—¶é—´: {{ item.createTime | formatTime('YYYY-MM-DD HH:mm') }}</p>
    <p>æ›´æ–°æ—¶é—´: {{ item.updateTime | relativeTime }}</p>
  </div>
</template>
```

### Composition APIï¼ˆVue 3ï¼‰
```vue
<template>
  <div>
    <p>åˆ›å»ºæ—¶é—´: {{ formatTime(item.createTime, 'YYYY-MM-DD HH:mm') }}</p>
    <p>æ›´æ–°æ—¶é—´: {{ getRelativeTime(item.updateTime) }}</p>
  </div>
</template>

<script setup>
import { TimeUtils } from '@/utils/frontend-time-utils';

const formatTime = (time, format) => TimeUtils.formatTime(time, format);
const getRelativeTime = (time) => TimeUtils.getRelativeTime(time);
</script>
```

## âš›ï¸ Reactç»„ä»¶ä½¿ç”¨

### è‡ªå®šä¹‰Hook
```javascript
// hooks/useTime.js
import { useMemo } from 'react';
import { TimeUtils } from '@/utils/frontend-time-utils';

export const useTime = () => {
  const formatTime = useMemo(() => {
    return (time, format) => TimeUtils.formatTime(time, format);
  }, []);

  const getRelativeTime = useMemo(() => {
    return (time) => TimeUtils.getRelativeTime(time);
  }, []);

  return { formatTime, getRelativeTime };
};
```

### ç»„ä»¶ä¸­ä½¿ç”¨
```jsx
import React from 'react';
import { useTime } from '@/hooks/useTime';

const TimeDisplay = ({ item }) => {
  const { formatTime, getRelativeTime } = useTime();

  return (
    <div>
      <p>åˆ›å»ºæ—¶é—´: {formatTime(item.createTime, 'YYYY-MM-DD HH:mm')}</p>
      <p>æ›´æ–°æ—¶é—´: {getRelativeTime(item.updateTime)}</p>
    </div>
  );
};
```

## ğŸ“‹ å¸¸ç”¨åœºæ™¯

### 1. è¡¨æ ¼æ˜¾ç¤º
```vue
<el-table-column prop="createTime" label="åˆ›å»ºæ—¶é—´">
  <template #default="{ row }">
    {{ formatTime(row.createTime, 'YYYY-MM-DD HH:mm') }}
  </template>
</el-table-column>
```

### 2. è¡¨å•æäº¤
```javascript
const handleSubmit = () => {
  const submitData = {
    eventTime: TimeUtils.toUTCForSubmit(form.eventTime),
    deadline: TimeUtils.toUTCForSubmit(form.deadline)
  };
  
  // æäº¤ç»™åç«¯
  api.submitData(submitData);
};
```

### 3. æ—¶é—´éªŒè¯
```javascript
const validateTime = (timeString) => {
  return TimeUtils.isValidTime(timeString);
};
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åç«¯è¿”å›çš„æ˜¯UTCæ—¶é—´**ï¼Œå‰ç«¯éœ€è¦è½¬æ¢ä¸ºåŒ—äº¬æ—¶é—´æ˜¾ç¤º
2. **å‰ç«¯æäº¤ç»™åç«¯çš„æ—¶é—´**ï¼Œéœ€è¦è½¬æ¢ä¸ºUTCæ—¶é—´
3. **ç»Ÿä¸€ä½¿ç”¨TimeUtilså·¥å…·ç±»**ï¼Œä¸è¦ç›´æ¥ä½¿ç”¨åŸç”ŸDateå¯¹è±¡
4. **æ—¶é—´æ ¼å¼**ï¼šAPIä½¿ç”¨ISO 8601æ ¼å¼ï¼Œæ˜¾ç¤ºä½¿ç”¨åŒ—äº¬æ—¶é—´æ ¼å¼

## ğŸ”§ æ ¸å¿ƒæ–¹æ³•

| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `formatTime(time, format)` | æ ¼å¼åŒ–UTCæ—¶é—´ä¸ºåŒ—äº¬æ—¶é—´ | `formatTime('2024-01-15T10:30:00.000Z', 'YYYY-MM-DD HH:mm')` |
| `getRelativeTime(time)` | è·å–ç›¸å¯¹æ—¶é—´ | `getRelativeTime('2024-01-15T10:30:00.000Z')` |
| `toUTCForSubmit(time)` | å°†åŒ—äº¬æ—¶é—´è½¬æ¢ä¸ºUTCæ—¶é—´ | `toUTCForSubmit('2024-01-15 18:30:00')` |
| `getCurrentDate()` | è·å–å½“å‰æ—¥æœŸ | `getCurrentDate()` |
| `getCurrentTime()` | è·å–å½“å‰æ—¶é—´ | `getCurrentTime()` |
| `isValidTime(time)` | éªŒè¯æ—¶é—´æ ¼å¼ | `isValidTime('2024-01-15T10:30:00.000Z')` |

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š[å‰ç«¯æ—¶é—´å¤„ç†å¯¹æ¥å®Œæ•´æ–‡æ¡£](./å‰ç«¯æ—¶é—´å¤„ç†å¯¹æ¥å®Œæ•´æ–‡æ¡£.md)